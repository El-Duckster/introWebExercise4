(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();let c=JSON.parse(localStorage.getItem("todos"))||[];const m=document.querySelector("#todo-input"),i=document.querySelector("#todo-list"),d=document.querySelector("#error-message"),p=document.querySelector("#total-tasks"),f=document.querySelector("#not-completed-tasks"),g=document.querySelector("#completed-counter"),y=document.querySelector("#todo-form"),u=()=>{localStorage.setItem("todos",JSON.stringify(c))},h=()=>{const e=m.value.trim();if(e)d.textContent="",d.style.visibility="hidden";else{d.textContent="You must write something!",d.style.visibility="visible";return}const t={id:Date.now(),text:e,completed:!1};c=[...c,t],m.value="",u(),l();const n=document.querySelector(`li[data-id="${t.id}"]`);n.classList.add("adding"),setTimeout(()=>{n.classList.remove("adding")},400)},l=()=>{if(i.innerHTML="",c.length===0){const e=document.createElement("li");e.classList.add("empty-message"),e.textContent="The list is empty, start by adding new tasks.",i.appendChild(e)}else c.forEach(({id:e,text:t,completed:n})=>{const r=document.createElement("li");r.dataset.id=e,n&&r.classList.add("completed");const o=document.createElement("span");o.textContent=t;const s=document.createElement("button");s.classList.add("delete-btn"),s.setAttribute("aria-label","Delete task"),s.textContent="❌",r.appendChild(o),r.appendChild(s),i.appendChild(r)});T()},C=e=>{c=c.map(t=>t.id===e?{...t,completed:!t.completed}:t),u(),l()},L=e=>{document.querySelector(`li[data-id="${e}"]`).classList.add("removing"),setTimeout(()=>{c=c.filter(n=>n.id!==e),u(),l()},400)},T=()=>{const e=c.length,t=c.filter(r=>r.completed).length,n=e-t;p.textContent=`Total tasks: ${e}`,f.textContent=`Pending tasks: ${n}`,g.textContent=`Completed tasks: ${t}`};y.addEventListener("submit",e=>{e.preventDefault(),h()});i.addEventListener("click",e=>{var r;const t=e.target.closest("li");if(!t)return;const n=Number((r=t==null?void 0:t.dataset)==null?void 0:r.id);e.target.classList.contains("delete-btn")?L(n):C(n)});l();
